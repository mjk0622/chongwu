(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-orderxq"],{"23b4":function(t,i,e){"use strict";e.r(i);var s=e("7fb5"),n=e.n(s);for(var a in s)"default"!==a&&function(t){e.d(i,t,(function(){return s[t]}))}(a);i["default"]=n.a},"63f6":function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.xq[data-v-67cf12ee]{padding-bottom:%?100?%}.status[data-v-67cf12ee]{height:auto;background-color:#fdda33;display:flex;padding:%?30?%}.status uni-text[data-v-67cf12ee]{color:#fff;font-size:%?40?%;margin-left:%?20?%}.Address[data-v-67cf12ee]{height:auto;padding:%?45?%;font-size:%?28?%;border-bottom:1px solid #e6e6e6}.fl[data-v-67cf12ee]{padding:%?10?% %?50?% %?40?% %?10?%;display:flex;margin-top:%?20?%;border-bottom:1px solid #e6e6e6}.fl .le[data-v-67cf12ee]{width:30%}.fl uni-image[data-v-67cf12ee]{width:100%;height:%?200?%}.fl .ri[data-v-67cf12ee]{width:70%}.fl .ri uni-text[data-v-67cf12ee]{font-size:%?20?%}.discount[data-v-67cf12ee]{padding:%?10?%}.discount .li[data-v-67cf12ee]{display:flex;background-color:#fff;padding:%?12?%;justify-content:space-between}.discount .li .txt[data-v-67cf12ee]{color:grey;font-size:%?22?%}.discount .li .left uni-text[data-v-67cf12ee]{font-size:%?30?%;color:grey}.discount .li .right uni-text[data-v-67cf12ee]{color:grey}.bot[data-v-67cf12ee]{width:100%;display:flex;height:auto;justify-content:space-between;align-items:center;border-top:1px solid #e6e6e6;padding:%?10?%;position:fixed;bottom:0;z-index:999;background-color:#fff}.bot uni-button[data-v-67cf12ee]{background-color:#fff;font-size:%?25?%;border:1px solid #e6e6e6;border-radius:%?50?%}',""]),t.exports=i},"73b7":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return s}));var s={uIcon:e("37d9").default,uPopup:e("0c18").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"xq"},[e("v-uni-view",{staticClass:"status"},[e("u-icon",{attrs:{name:t._f("status_tu")(this.list.status),size:"25",color:"#fff"}}),e("v-uni-text",[t._v(t._s(t._f("status_text")(this.list.status)))])],1),e("v-uni-view",{staticClass:"Address"},[e("v-uni-text",[t._v("收货人: "+t._s(this.Address.name)+" "+t._s(this.Address.tel))]),e("v-uni-view",{staticStyle:{color:"#808080","margin-top":"10upx"}},[e("v-uni-text",[t._v(t._s(this.Address.addr_text)+t._s(this.Address.detail))])],1)],1),t._l(t.xq,(function(i){return e("v-uni-view",{staticClass:"fl"},[e("v-uni-view",{staticClass:"le"},[e("v-uni-image",{attrs:{src:i.img,mode:""}})],1),e("v-uni-view",{staticClass:"ri"},[e("v-uni-text",{staticStyle:{display:"-webkit-box",height:"35px","margin-top":"10upx"}},[t._v(t._s(i.name))]),e("br"),e("v-uni-text",{staticStyle:{color:"#808080","margin-top":"20upx"}},[t._v(t._s(i.attr))]),e("br"),e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-text",{staticStyle:{color:"#FDD100"}},[t._v(t._s(i.price))]),e("v-uni-text",{staticStyle:{color:"#808080"}},[t._v("x"+t._s(i.num))])],1)],1)],1)})),e("v-uni-view",{staticClass:"discount"},[e("v-uni-view",{staticClass:"li"},[e("v-uni-view",{staticClass:"left"},[e("v-uni-text",[t._v("商品总额")])],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",[t._v("￥"+t._s(this.list.all_amount))])],1)],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-view",{staticClass:"left"},[e("v-uni-text",[t._v("运费")])],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",[t._v(t._s(this.list.shipping))])],1)],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-view",{staticClass:"left"},[e("v-uni-text",[t._v("优惠")])],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",[t._v(t._s(this.list.reduction))])],1)],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-view",{staticClass:"left"},[e("v-uni-text",{staticStyle:{color:"#000","font-size":"35upx"}},[t._v("应付金额")])],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",{staticStyle:{color:"#FDD100","font-size":"40upx"}},[t._v("￥"+t._s(this.list.all_amount))])],1)],1),e("v-uni-view",{staticClass:"li",staticStyle:{"border-bottom":"1px solid #e6e6e6",display:"flex"}},[e("v-uni-text",[t._v("订单信息")]),e("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:6==this.list.status,expression:"this.list.status==6"}],staticStyle:{"margin-left":"60%","justify-content":"space-between",height:"50upx","font-size":"20upx","line-height":"50upx","border-radius":"20upx","background-color":"#FDD100",color:"#fff","align-items":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.eva.apply(void 0,arguments)}}},[t._v("去评论")])],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("下单时间: "+t._s(t.time))])],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("订单编号: "+t._s(this.list.order_sn))])],1),e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("订单备注: "+t._s(""==this.list.desc?"暂无备注信息":this.list.desc))])],1),8==this.list.status?e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("取消原因: "+t._s(this.list.cancel_text))])],1):t._e(),(this.list.status,e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("支付方式: "+t._s("alipay"==this.list.pay_type?"支付宝":"微信"))])],1)),(this.list.status,e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("支付时间: "+t._s(this.paytime))])],1)),(this.list.status,e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("物流公司: "+t._s("STO"==this.list.express_com?"申通快递":"默认"))])],1)),(this.list.status,e("v-uni-view",{staticClass:"li"},[e("v-uni-text",{staticClass:"txt"},[t._v("物流单号: "+t._s(this.list.express_no))])],1))],1),e("v-uni-view",{staticClass:"bot"},[e("v-uni-view",{staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tel.apply(void 0,arguments)}}},[e("u-icon",{attrs:{name:"phone-fill",size:"25",color:"#FDD100"}}),e("v-uni-text",[t._v("联系客服")])],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==this.list.status,expression:"this.list.status==1"}],staticStyle:{display:"flex","margin-right":"20upx"}},[e("v-uni-button",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delece.apply(void 0,arguments)}}},[t._v("取消订单")]),e("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:1==this.list.status,expression:"this.list.status==1"}],staticStyle:{"background-color":"#FDD100",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pay.apply(void 0,arguments)}}},[t._v("去付款")])],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2==this.list.status,expression:"this.list.status==2"}],staticStyle:{display:"flex","margin-right":"20upx"}},[e("v-uni-button",{staticStyle:{"background-color":"#FDD100",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.mn.apply(void 0,arguments)}}},[t._v("模拟发货")])],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:3==this.list.status,expression:"this.list.status==3"}],staticStyle:{display:"flex","margin-right":"20upx"}},[e("v-uni-button",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.eye.apply(void 0,arguments)}}},[t._v("查看物流")]),e("v-uni-button",{staticStyle:{"background-color":"#FDD100",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.que.apply(void 0,arguments)}}},[t._v("确认收货")]),e("u-popup",{attrs:{show:t.shown,mode:"center",round:"20upx"}},[e("v-uni-view",{staticStyle:{width:"500upx","text-align":"center",padding:"20upx"}},[e("v-uni-text",[t._v("提示")]),e("br"),e("v-uni-text",{staticStyle:{color:"#808080"}},[t._v("确定收货吗")]),e("br"),e("v-uni-view",{staticStyle:{display:"flex","margin-top":"30upx"}},[e("v-uni-button",{staticStyle:{"background-color":"#FDD100",color:"#fff",width:"50%"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.yes.apply(void 0,arguments)}}},[t._v("确定")]),e("v-uni-button",{staticStyle:{width:"50%"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.quxiao.apply(void 0,arguments)}}},[t._v("取消")])],1)],1)],1)],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:7==this.list.status,expression:"this.list.status==7"}],staticStyle:{display:"flex","margin-right":"20upx"}},[e("v-uni-button",{staticStyle:{"background-color":"#FDD100",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delece.apply(void 0,arguments)}}},[t._v("删除订单")])],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:8==this.list.status,expression:"this.list.status==8"}],staticStyle:{display:"flex","margin-right":"20upx"}},[e("v-uni-button",{staticStyle:{"background-color":"#FDD100",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delece.apply(void 0,arguments)}}},[t._v("删除订单")])],1)],1),e("u-popup",{attrs:{show:t.show,customStyle:"border-top-left-radius: 20upx;border-top-right-radius: 20upx;"},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}},[e("v-uni-view",{staticStyle:{padding:"40upx"}},[e("v-uni-text",[t._v("请您填写一下取消原因:")]),e("br"),e("v-uni-input",{staticStyle:{border:"1px solid #e6e6e6","margin-top":"30upx",padding:"10upx"},attrs:{type:"text",placeholder:"请输入"},model:{value:t.inp,callback:function(i){t.inp=i},expression:"inp"}}),e("v-uni-view",{staticStyle:{display:"flex","margin-top":"40upx"}},[e("v-uni-button",{staticStyle:{width:"30%",height:"80upx","line-height":"80upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}},[t._v("取消")]),e("v-uni-button",{staticStyle:{"background-color":"#FDD100",width:"30%",height:"80upx","line-height":"80upx",color:"#fff"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.btn.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1)],2)},a=[]},"7fb5":function(t,i,e){"use strict";(function(t){e("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={1:"待付款",2:"待发货",3:"待收货",6:"待评价",7:"已评价",8:"已取消"},n={1:"red-packet-fill",2:"shopping-cart-fill",3:"car-fill",6:"chat",7:"checkbox-mark",8:"trash"},a={data:function(){return{id:"",list:[],Address:[],xq:[],time:"",show:!1,shown:!1,inp:"",paytime:"",express_no:""}},onLoad:function(t){this.id=t.id,this.orderxq()},filters:{status_text:function(t){return t=""+t,s[t]},status_tu:function(t){return t=""+t,n[t]}},methods:{orderxq:function(){var i=this;uni.$u.http.post("/order/getOrderDetail",{uid:uni.getStorageSync("uid"),orderId:this.id}).then((function(e){function s(t){var i=new Date(t),e=i.getFullYear()+"-",s=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",n=i.getDate()+" ",a=i.getHours()+":",o=i.getMinutes()+":",u=i.getSeconds();return e+s+n+a+o+u}t.log(e.data.data),i.list=e.data.data[0],i.Address=e.data.data[0].address,i.xq=e.data.data[0].goods,i.express_no=e.data.data[0].express_no,i.time=s(e.data.data[0].add_time),i.paytime=s(e.data.data[0].pay_time)}))},tel:function(){uni.makePhoneCall({phoneNumber:"18568082546"})},delece:function(){8==this.list.status||7==this.list.status?uni.$u.http.post("/order/del_order",{orderId:this.id}).then((function(i){t.log(i),1==i.data.code&&uni.showToast({title:i.data.msg,icon:"none"}),uni.setStorageSync("suo",!0),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)})):this.show=!0},close:function(){this.show=!1},btn:function(){uni.$u.http.post("/order/cancel_order",{cancel_text:this.inp,orderId:this.id}).then((function(i){t.log(i),1==i.data.code&&(uni.showToast({title:i.data.msg,icon:"none"}),uni.setStorageSync("suo",!0),setTimeout((function(){uni.navigateBack({delta:1})}),1e3))}))},pay:function(){uni.navigateTo({url:"/pages/order/pay?id=".concat(this.list._id,"&price=").concat(this.list.all_amount)})},mn:function(){var i=this;uni.$u.http.post("/order/send",{orderId:this.id,express_com:"STO",express_no:this.express_no}).then((function(e){t.log(e),1==e.data.code&&(uni.showToast({title:"发货成功",icon:"none"}),setTimeout((function(){i.orderxq()}),500))}))},eye:function(){uni.$u.http.post("/order/wuliu",{express_com:"STO",express_no:this.list.order_sn}).then((function(i){t.log(i)}))},que:function(){this.shown=!0},yes:function(){var i=this;uni.$u.http.post("/order/shouhuo",{orderId:this.list._id}).then((function(e){t.log(e),1==e.data.code&&(uni.showToast({title:"收货成功",icon:"none"}),i.shown=!1,i.orderxq())}))},quxiao:function(){this.shown=!1},eva:function(){t.log(this.xq[0].goods_id),uni.navigateTo({url:"/pages/order/evaluation?goods_id=".concat(this.xq[0].goods_id,"&attr=").concat(this.xq[0].attr,"&orderId=").concat(this.list._id)})}}};i.default=a}).call(this,e("5a52")["default"])},"9ea7":function(t,i,e){"use strict";e.r(i);var s=e("73b7"),n=e("23b4");for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);e("e20f");var o,u=e("f0c5"),l=Object(u["a"])(n["default"],s["b"],s["c"],!1,null,"67cf12ee",null,!1,s["a"],o);i["default"]=l.exports},b968:function(t,i,e){var s=e("63f6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=e("4f06").default;n("7323824b",s,!0,{sourceMap:!1,shadowMode:!1})},e20f:function(t,i,e){"use strict";var s=e("b968"),n=e.n(s);n.a}}]);